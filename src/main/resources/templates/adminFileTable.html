<!doctype html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">

<body>
    <!-- Pagination Navigation -->
    <div class="mb-3">
        <button class="btn btn-secondary" type="button" th:data-page="0"
            onclick="admin_get_history(this.getAttribute('data-page'))">&laquo;</button>
        <button class="btn btn-secondary" type="button" th:disabled="${(page - 1) < 0}" th:data-page="${page - 1}"
            onclick="admin_get_history(this.getAttribute('data-page'))">&lsaquo;</button>
        <span class="mx-2 fw-bold">Page <span th:text="${page + 1}">1</span> of <span
                th:text="${maxPage}">10</span></span>
        <button class="btn btn-secondary" type="button" th:disabled="${(page + 1) >= maxPage}"
            th:data-page="${page + 1}" onclick="admin_get_history(this.getAttribute('data-page'))">&rsaquo;</button>
        <button class="btn btn-secondary" type="button" th:data-page="${maxPage - 1}"
            onclick="admin_get_history(this.getAttribute('data-page'))">&raquo;</button>
    </div>

    <!-- History Table -->
    <div class="table-responsive">
        <table class="table table-striped" style="width: 100%;">
            <thead>
                <tr class="table-dark">
                    <th scope="col" class="table-header-left">#</th>
                    <th scope="col">Remove</th>
                    <th scope="col">Name</th>
                    <th scope="col">Size</th>
                    <th scope="col">CreatorIp</th>
                    <th scope="col">Clicks</th>
                    <th scope="col">Created</th>
                    <th scope="col">Expiry</th>
                    <th scope="col">Logs</th>
                    <th scope="col">Modified</th>
                    <th scope="col">Mime</th>
                    <th scope="col" class="table-header-right">FileName</th>
                </tr>
            </thead>
            <tbody th:if="${max >= 0}">
                <tr th:each="i : ${#numbers.sequence(0, max)}">
                    <th scope="row" th:text="${startIndex+i+1}">1</th>
                    <td>
                        <img src="/assets/img/trash.png" width="40" th:data-deleteUrl="${fileList.get(i).deleteUrl}"
                            onclick="return admin_delete(this.getAttribute('data-deleteUrl'));" class="link-button" />
                    </td>
                    <td>
                        <a th:href="${fileList.get(i).url}" target="_blank" class="shorturltxt"
                            th:text="${fileList.get(i).name}"></a>
                    </td>
                    <td th:text="${fileList.get(i).size}">123 KB</td>
                    <td th:text="${fileList.get(i).creatorIp}">123.45.67.89</td>
                    <td th:text="${fileList.get(i).hits}">x</td>
                    <td class="text-center" th:text="${#strings.replace(fileList.get(i).created, 'T',' ')}">
                        2024-02-16 05:57:26 PM
                    </td>
                    <td class="text-center" th:text="${#strings.replace(fileList.get(i).expiryTime, 'T',' ')}">
                        2024-02-16 05:57:26 PM
                    </td>
                    <td>
                        <img src="/assets/img/link.png" width="40" th:data-downloadKey="${fileList.get(i).downloadKey}"
                            onclick="return admin_get_file_logs(this.getAttribute('data-downloadKey'));"
                            class="link-button" />
                    </td>
                    <td class="text-center" th:text="${#strings.replace(fileList.get(i).modified, 'T',' ')}">
                        2024-02-16 05:57:26 PM
                    </td>
                    <td th:text="${fileList.get(i).mimeType}">image/jpeg</td>
                    <td th:text="${fileList.get(i).fileName}">filename</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination Navigation -->
    <div>
        <button class="btn btn-secondary" type="button" th:data-page="0"
            onclick="admin_get_history(this.getAttribute('data-page'))">&laquo;</button>
        <button class="btn btn-secondary" type="button" th:disabled="${(page - 1) < 0}" th:data-page="${page - 1}"
            onclick="admin_get_history(this.getAttribute('data-page'))">&lsaquo;</button>
        <span class="mx-2 fw-bold">Page <span th:text="${page + 1}">1</span> of <span
                th:text="${maxPage}">10</span></span>
        <button class="btn btn-secondary" type="button" th:disabled="${(page + 1) >= maxPage}"
            th:data-page="${page + 1}" onclick="admin_get_history(this.getAttribute('data-page'))">&rsaquo;</button>
        <button class="btn btn-secondary" type="button" th:data-page="${maxPage - 1}"
            onclick="admin_get_history(this.getAttribute('data-page'))">&raquo;</button>
    </div>
</body>

</html>